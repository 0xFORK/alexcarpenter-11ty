{% extends 'layouts/default.njk' %}
{% import "components/macros.njk" as components %}

{% block main %}
  <article>
    <header>
      <div class="o-grid o-grid--justify-end">
        <div class="o-grid__col u-width-8of12@md">
          <p class="u-color-gray u-text-uppercase">Case study</p>
          <h1 class="u-font-size-2xl">{{ title }}</h1>
          {% if summary %}
            <p role="doc-subtitle" class="u-font-size-lg u-leading-tight u-margin-top-2">{{ summary | markdownify_inline | safe }}</p>
          {% endif %}
          {% if link %}
            <div class="u-margin-top-1">{{ components.link({ url: link, external: true }) }}</div>
          {% endif %}
        </div>
      </div>
    </header>
    {% if banner %}
    <div class="o-grid u-margin-top-4">
      <div class="o-grid__col">
        {{ components.figure({
          src: '/assets/images/' + banner,
          alt: title + ' graphics',
          bordered: true
        }) }}
      </div>
    </div>
    {% endif %}
    <div class="o-grid u-margin-top-4">
      <div class="o-grid__col u-width-4of12@md">
        <dl>
          <dt>Role</dt>
          <dd>
            {% set comma = joiner() %}
            {% for item in roles -%}{{ comma() }} {{ item }}{%- endfor %}
          </dd>
          <dt>Tech</dt>
          <dd>
            {% set comma = joiner() %}
            {% for item in tech -%}{{ comma() }} {{ item }}{%- endfor %}
          </dd>
          {% if team %}
          <dt>Team</dt>
          <dd>{{ team }}</dd>
          {% endif %}
        </dl>
      </div>
      <div class="o-grid__col u-width-8of12@md">
        <div class="o-stack o-stack--prose">
          {{ content | safe }}
        </div>
      </div>
    </div>
  </article>
{% endblock %}
