{% extends 'layouts/default.njk' %}
{% from "components/testimonial.njk" import testimonial %}

{% block main %}
  <article>
    <header>
      <div class="o-grid o-grid--justify-end">
        <div class="o-grid__col u-width-8of12@md">
          <p class="c-eyebrow">Case study</p>
          <h1 class="u-font-size-2xl">{{ title }}</h1>
          {% if summary %}
            <p role="doc-subtitle" class="u-font-size-lg u-margin-top-2">{{ summary | markdownify_inline | safe }}</p>
          {% endif %}
          {% if link %}
            <div class="u-margin-top-1">{% Link link, null, true %}</div>
          {% endif %}
        </div>
      </div>
    </header>
    <div class="o-grid u-margin-top-4">
      <div class="o-grid__col">
        {% Figure {
          src: '/assets/images/' + banner,
          alt: title + ' graphics'
        } %}
      </div>
    </div>
    <div class="o-grid">
      <div class="o-grid__col u-width-4of12@md">
        <dl>
          <dt>Role</dt>
          <dd>
            {% set comma = joiner() %}
            {% for item in roles -%}{{ comma() }} {{ item }}{%- endfor %}
          </dd>
          <dt>Tech</dt>
          <dd>
            {% set comma = joiner() %}
            {% for item in tech -%}{{ comma() }} {{ item }}{%- endfor %}
          </dd>
          {% if team %}
          <dt>Team</dt>
          <dd>{{ team }}</dd>
          {% endif %}
        </dl>
      </div>
      <div class="o-grid__col u-width-8of12@md">
        <div class="o-stack o-stack--prose">
          {{ content | safe }}
        </div>
      </div>
    </div>
  </article>

  {# <article>
    <header class="u-stack u-text-center u-margin-bottom-3">
      <span class="c-eyebrow">Case Study</span>
      <h1 class="u-margin-top-0 u-font-size-4">{{ title }}</h1>
      {% if link %}
        <div class="u-margin-top-025">{% Link link, null, true %}</div>
      {% endif %}
      {% if summary %}
        <p class="u-font-size-md u-margin-top-05">{{ summary | safe }}</p>
      {% endif %}
      {% if banner %}
        <div class="u-margin-top-2">
          {% Figure {
            breakout: true,
            src: '/assets/images/' + banner,
            alt: title + ' graphics'
          } %}
        </div>
      {% endif %}
    </header>
    <div class="u-stack">
      <dl class="c-meta">
        <dt class="c-meta__title">Role</dt>
        <dd class="c-meta__description">
          {% set comma = joiner() %}
          {% for item in roles -%}{{ comma() }} {{ item }}{%- endfor %}
        </dd>
        <dt class="c-meta__title">Tech</dt>
        <dd class="c-meta__description">
          {% set comma = joiner() %}
          {% for item in tech -%}{{ comma() }} {{ item }}{%- endfor %}
        </dd>
        {% if team %}
        <dt class="c-meta__title">Team</dt>
        <dd class="c-meta__description">{{ team }}</dd>
        {% endif %}
      </dl>
      {{ content | safe }}
      {% if quote %}
        <hr />
        {{ testimonial({
          name: quote.name,
          text: quote.text,
          occupation: quote.occupation
        }) }}
      {% endif %}
    </div>
  </article> #}
{% endblock %}
